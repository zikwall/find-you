{"version":3,"sources":["components/main/Main.js","components/icons/Heart.js","App.js","index.js"],"names":["getAge","age","getCity","city","getProfile","id","getImage","details","url","Actions","size","stretched","style","marginRight","level","component","href","UserItem","firstname","thumbnail","photo","description","bottomContent","before","src","state","imageFile","imageUlr","isLoadImage","response","isProcessed","onFormSubmit","e","a","preventDefault","setState","fileUpload","data","res","onChange","target","files","file","formData","FormData","append","post","headers","place","icon","this","maxWidth","maxHeight","URL","createObjectURL","alt","resultContent","display","alignItems","flexDirection","marginTop","results","title","map","i","c","key","userid","onSubmit","top","React","Component","Heart","width","height","viewBox","transform","fill","d","attributeName","type","values","dur","repeatCount","additive","connect","send","App","useState","activeView","activePanel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e994643.chunk.js","sourcesContent":["import React from 'react';\nimport { Div, File, FormLayout, Button, Placeholder, Group, Cell, Avatar, Spinner } from \"@vkontakte/vkui\";\nimport Icon24Document from '@vkontakte/icons/dist/24/document';\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\nimport axios, { post } from 'axios';\n\nconst getAge = (age) => {\n    return age && typeof age !== 'undefined' ? 'Возраст: ' + age : 'Возраст не указан';\n};\n\nconst getCity = (city) => {\n    return city && typeof city != 'undefined' ? city : 'Город не указан';\n};\n\nconst getProfile = (id) => {\n    return `https://vk.com/id${id}`;\n};\n\nconst getImage = (details) => {\n    if (typeof details[1] != 'undefined') {\n        return details[1].url;\n    }\n\n    if (typeof details[0] != 'undefined') {\n        return details[0].url;\n    }\n};\n\nconst Actions = ({ city, id }) => {\n    return (\n        <Button size=\"l\" stretched style={{ marginRight: 5 }} level=\"secondary\" component=\"a\" href={ getProfile(id) }> Профиль </Button>\n    );\n};\n\nconst UserItem = ({ firstname, age, city, details, thumbnail, id }) => {\n    return (\n        <Cell photo={ thumbnail }\n              description={ getAge(age) + ', ' + getCity(city) }\n              bottomContent={ <Actions city={ city } id={ id }/> }\n              before={<Avatar src={ getImage(details) } size={80}/> }\n              size=\"l\"\n        >\n            { firstname }\n        </Cell>\n    );\n};\n\nexport default class extends React.Component {\n    state ={\n        imageFile: null,\n        imageUlr: null,\n        isLoadImage: false,\n        response: null,\n        isProcessed: false,\n    };\n\n    onFormSubmit = async (e) => {\n        e.preventDefault();\n\n        this.setState({\n            isProcessed: true\n        });\n\n        let response = await this.fileUpload(this.state.imageFile);\n\n        await this.setState({\n            response: response.data.res,\n            isProcessed: false\n        });\n    };\n\n    onChange = (e) => {\n        this.setState({\n            imageFile: e.target.files[0],\n            isLoadImage: e.target.files[0] != 'undefined'\n        });\n    };\n\n    fileUpload = (file) => {\n        const url = 'https://zikwall.ru/site/upload2';\n        const formData = new FormData();\n        formData.append('imageFile', file);\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        };\n\n        return post(url, formData, config)\n    };\n\n    render() {\n\n        let place =\n                <Placeholder\n                    icon={<Icon56UsersOutline  />}\n                >\n                    Загрузите изображение для поиска\n                </Placeholder>;\n\n        if (this.state.isLoadImage === true) {\n            place =\n                <Div>\n                    <img style={{maxWidth: '100%', maxHeight: '100%'}} src={ URL.createObjectURL(this.state.imageFile) } alt=\"alt\"/>\n                </Div>\n        }\n\n        let resultContent = this.state.isProcessed == false\n            ? 'Здесь будут отображаться люди, которых вы возможно ищите'\n            :\n            <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\n                <Spinner size=\"large\" style={{ marginTop: 20 }} />\n            </div>;\n\n        let results =\n            <Placeholder\n                title=\"Находите друзей\"\n            >\n                { resultContent }\n            </Placeholder>;\n\n        if (this.state.response != null) {\n            results = this.state.response.data.map((i, c) => {\n                return (\n                    <UserItem key={ c }\n                              firstname={ i.firstname }\n                              details={ i.details }\n                              thumbnail={ i.thumbnail }\n                              age={ i.age }\n                              city={ i.city }\n                              id={ i.userid }\n                    />\n                )\n            })\n        }\n\n        return (\n            <>\n                { place }\n\n                <FormLayout onSubmit={ this.onFormSubmit }>\n                    <File onChange={ this.onChange }\n                          top=\"Загрузите фотографию\"\n                          before={<Icon24Document />}\n                          size=\"xl\" level=\"secondary\"\n                    />\n                    <Button size=\"xl\">Пожалуйста найдись!</Button>\n                </FormLayout>\n\n                <Group title=\"Результаты\">\n                    { results }\n                </Group>\n            </>\n        );\n    }\n}","import React from  'react';\n\nconst Heart = () => {\n    return (\n            <svg width=\"30\" height=\"30\" viewBox=\"0 -20 200 200\">\n                <g transform=\"translate(100 100)\">\n                    <path transform=\"translate(-50 -50)\" fill=\"tomato\" d=\"M92.71,7.27L92.71,7.27c-9.71-9.69-25.46-9.69-35.18,0L50,14.79l-7.54-7.52C32.75-2.42,17-2.42,7.29,7.27v0 c-9.71,9.69-9.71,25.41,0,35.1L50,85l42.71-42.63C102.43,32.68,102.43,16.96,92.71,7.27z\"></path>\n                    <animateTransform\n                        attributeName=\"transform\"\n                        type=\"scale\"\n                        values=\"1; 1.5; 1.25; 1.5; 1.5; 1;\"\n                        dur=\"1s\"\n                        repeatCount=\"indefinite\"\n                        additive=\"sum\">\n                    </animateTransform>\n                </g>\n            </svg>\n    )\n};\n\nexport default Heart;","import 'core-js/es/map';\nimport 'core-js/es/set';\n\nimport React, { useState } from 'react';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport connect from \"@vkontakte/vk-connect\";\nimport { Root, View, Panel, PanelHeader, Footer } from \"@vkontakte/vkui\";\nimport { Main } from \"./components/main\";\nimport { Heart } from './components/icons';\n\nconnect.send(\"VKWebAppInit\", {});\n\nconst App = () => {\n    const [activeView, setActiveView] = useState('view1');\n\n    return (\n        <Root activeView={ activeView }>\n            <View activePanel=\"panel1.1\" id=\"view1\">\n                <Panel id=\"panel1.1\">\n                    <PanelHeader>Ищу тебя <Heart /></PanelHeader>\n                    <Main/>\n\n                    <Footer> status:@dev </Footer>\n                </Panel>\n            </View>\n        </Root>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}