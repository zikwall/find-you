{"version":3,"sources":["components/main/Main.js","components/icons/Heart.js","App.js","index.js"],"names":["getAge","age","getCity","city","getProfile","id","Actions","size","stretched","style","marginRight","level","component","href","UserItem","firstname","image","thumbnail","photo","description","bottomContent","before","src","state","imageFile","imageUlr","isLoadImage","response","isProcessed","onFormSubmit","e","a","preventDefault","setState","fileUpload","data","res","onChange","target","files","file","formData","FormData","append","post","headers","place","icon","this","maxWidth","maxHeight","URL","createObjectURL","alt","resultContent","display","alignItems","flexDirection","marginTop","results","title","map","i","c","key","details","url","userid","onSubmit","top","React","Component","Heart","width","height","viewBox","transform","fill","d","attributeName","type","values","dur","repeatCount","additive","connect","send","App","useState","activeView","activePanel","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2e9022fd.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Div, File, FormLayout, Button, Placeholder, Group, Cell, Avatar, Spinner } from \"@vkontakte/vkui\";\r\nimport Icon24Document from '@vkontakte/icons/dist/24/document';\r\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\r\nimport axios, { post } from 'axios';\r\n\r\nconst getAge = (age) => {\r\n    return age && age !== 'undefined' ? 'Возраст: ' + age : 'Возраст не указан';\r\n};\r\n\r\nconst getCity = (city) => {\r\n    return city && city != 'undefined' ? city : 'Город не указан';\r\n};\r\n\r\nconst getProfile = (id) => {\r\n    return `https://vk.com/id${id}`;\r\n};\r\n\r\nconst Actions = ({ city, id }) => {\r\n    return (\r\n        <Button size=\"l\" stretched style={{ marginRight: 5 }} level=\"secondary\" component=\"a\" href={ getProfile(id) }> Профиль </Button>\r\n    );\r\n};\r\n\r\nconst UserItem = ({ firstname, age, city, image, thumbnail, id }) => {\r\n    return (\r\n        <Cell photo={ thumbnail }\r\n              description={ getAge(age) + ', ' + getCity(city) }\r\n              bottomContent={ <Actions city={ city } id={ id }/> }\r\n              before={<Avatar src={ image } size={80}/> }\r\n              size=\"l\"\r\n        >\r\n            { firstname }\r\n        </Cell>\r\n    );\r\n};\r\n\r\nexport default class extends React.Component {\r\n    state ={\r\n        imageFile: null,\r\n        imageUlr: null,\r\n        isLoadImage: false,\r\n        response: null,\r\n        isProcessed: false,\r\n    };\r\n\r\n    onFormSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            isProcessed: true\r\n        });\r\n\r\n        let response = await this.fileUpload(this.state.imageFile);\r\n\r\n        await this.setState({\r\n            response: response.data.res,\r\n            isProcessed: false\r\n        });\r\n    };\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            imageFile: e.target.files[0],\r\n            isLoadImage: e.target.files[0] != 'undefined'\r\n        });\r\n    };\r\n\r\n    fileUpload = (file) => {\r\n        const url = 'http://c95202tj.bget.ru/site/upload2';\r\n        const formData = new FormData();\r\n        formData.append('imageFile', file);\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        };\r\n\r\n        return post(url, formData, config)\r\n    };\r\n\r\n    render() {\r\n\r\n        let place =\r\n                <Placeholder\r\n                    icon={<Icon56UsersOutline  />}\r\n                >\r\n                    Загрузите изображение для поиска\r\n                </Placeholder>;\r\n\r\n        if (this.state.isLoadImage === true) {\r\n            place =\r\n                <Div>\r\n                    <img style={{maxWidth: '100%', maxHeight: '100%'}} src={ URL.createObjectURL(this.state.imageFile) } alt=\"alt\"/>\r\n                </Div>\r\n        }\r\n\r\n        let resultContent = this.state.isProcessed == false\r\n            ? 'Здесь будут отображаться люди, которых вы возможно ищите'\r\n            :\r\n            <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n                <Spinner size=\"large\" style={{ marginTop: 20 }} />\r\n            </div>;\r\n\r\n        let results =\r\n            <Placeholder\r\n                title=\"Находите друзей\"\r\n            >\r\n                { resultContent }\r\n            </Placeholder>;\r\n\r\n        if (this.state.response != null) {\r\n            results = this.state.response.data.map((i, c) => {\r\n                return (\r\n                    <UserItem key={ c }\r\n                              firstname={ i.firstname }\r\n                              image={ i.details[1].url }\r\n                              thumbnail={ i.thumbnail }\r\n                              age={ i.age }\r\n                              city={ i.city }\r\n                              id={ i.userid }\r\n                    />\r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n            <>\r\n                { place }\r\n\r\n                <FormLayout onSubmit={ this.onFormSubmit }>\r\n                    <File onChange={ this.onChange }\r\n                          top=\"Загрузите фотографию\"\r\n                          before={<Icon24Document />}\r\n                          size=\"xl\" level=\"secondary\"\r\n                    />\r\n                    <Button size=\"xl\">Пожалуйста найдись!</Button>\r\n                </FormLayout>\r\n\r\n                <Group title=\"Результаты\">\r\n                    { results }\r\n                </Group>\r\n            </>\r\n        );\r\n    }\r\n}","import React from  'react';\r\n\r\nconst Heart = () => {\r\n    return (\r\n            <svg width=\"30\" height=\"30\" viewBox=\"0 -60 200 200\">\r\n                <g transform=\"translate(100 100)\">\r\n                    <path transform=\"translate(-50 -50)\" fill=\"tomato\" d=\"M92.71,7.27L92.71,7.27c-9.71-9.69-25.46-9.69-35.18,0L50,14.79l-7.54-7.52C32.75-2.42,17-2.42,7.29,7.27v0 c-9.71,9.69-9.71,25.41,0,35.1L50,85l42.71-42.63C102.43,32.68,102.43,16.96,92.71,7.27z\"></path>\r\n                    <animateTransform\r\n                        attributeName=\"transform\"\r\n                        type=\"scale\"\r\n                        values=\"1; 1.5; 1.25; 1.5; 1.5; 1;\"\r\n                        dur=\"1s\"\r\n                        repeatCount=\"indefinite\"\r\n                        additive=\"sum\">\r\n                    </animateTransform>\r\n                </g>\r\n            </svg>\r\n    )\r\n};\r\n\r\nexport default Heart;","import 'core-js/es/map';\nimport 'core-js/es/set';\n\nimport React, { useState } from 'react';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport connect from \"@vkontakte/vk-connect\";\nimport { Root, View, Panel, PanelHeader, Footer } from \"@vkontakte/vkui\";\nimport { Main } from \"./components/main\";\nimport { Heart } from './components/icons';\n\nconnect.send(\"VKWebAppInit\", {});\n\nconst App = () => {\n    const [activeView, setActiveView] = useState('view1');\n\n    return (\n        <Root activeView={ activeView }>\n            <View activePanel=\"panel1.1\" id=\"view1\">\n                <Panel id=\"panel1.1\">\n                    <PanelHeader>Ищу тебя <Heart /></PanelHeader>\n                    <Main/>\n\n                    <Footer> status:@dev </Footer>\n                </Panel>\n            </View>\n        </Root>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}